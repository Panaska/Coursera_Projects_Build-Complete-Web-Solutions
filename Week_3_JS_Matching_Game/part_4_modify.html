<!DOCTYPE html>

<html>
<head>
  <title>Matching Game. Part 1</title>
   <style>
   img, div {position:absolute;}

div {width:600px; height:600px;}

#rightSide {left:600px;
border-left: 1px dashed grey;}
   
   </style>
   
 
   

  </head>
<body onload="generateFaces()">

<h1>Matching Game</h1>
<p>Click on the extra smiling face on the left.</p>

<div id="leftSide"></div> 
<div id="rightSide"></div> 
  <script>
  var numberOfFaces=5;
   var theLeftSide = document.getElementById("leftSide");  
   var theRightSide = document.getElementById("rightSide"); 
   
   var theBody = document.getElementsByTagName("body")[0];
   
   function generateFaces() {
          
   //while (numberOfFaces<5)
   for (i=0; i < numberOfFaces; i++)
   {
     
    var this_img = document.createElement("img");
   
  this_img.src="smile.png";
   var random_top = Math.random() * 501;
   random_top = Math.floor(random_top);
   
   var random_left = Math.random() * 501;
   random_left = Math.floor(random_left);
   
   this_img.style.top = random_top + "px";
   this_img.style.left = random_left + "px";
   
   theLeftSide.appendChild(this_img);
  // numberOfFaces+= 1;
   };
    var leftSideImages = theLeftSide.cloneNode(true);
  
   var removeRandomChild = Math.random()*numberOfFaces+1;
   removeRandomChild = Math.floor(removeRandomChild);
// var remove = leftSideImages.getElementsByTagName("img")[removeRandomChild];
   
  // console.log(remove);
 leftSideImages.removeChild(leftSideImages.childNodes[removeRandomChild]);
      
   
   //leftSideImages.removeChild(leftSideImages.lastChild);
 
  
   theRightSide.appendChild(leftSideImages);
   
   theLeftSide.childNodes[removeRandomChild].onclick = function nextLevel(event) {
   event.stopPropagation();
   numberOfFaces+=5;
   
   while(theLeftSide.firstChild) {
   theLeftSide.removeChild(theLeftSide.firstChild)};
   while(theRightSide.firstChild) {
   theRightSide.removeChild(theRightSide.firstChild)
   };
   generateFaces();  
   
   };
   
  
  theBody.onclick = function gameOver() {
  alert("Game over!");
  theBody.onclick = null;
 theLeftSide.lastChild.onclick = null;
   
 };
  
   };
   
   
   
   </script>
</body>
</html>